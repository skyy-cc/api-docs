{
    "swagger": "2.0",
    "info": {
        "description": "Official API documentation for api.skyy.cc",
        "version": "1.0.0",
        "title": "SKYYCC API",
        "contact": {
            "email": "api@skyy.cc"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        }
    },
    "host": "api.skyy.cc",
    "basePath": "",
    "tags": [
        {
            "name": "utilities",
            "description": "Access to various utility functions"
        },
        {
            "name": "images",
            "description": "Image database access"
        },
        {
            "name": "administration",
            "description": "View and manage the API"
        }
    ],
    "schemes":[
        "https"
    ],
    "paths": {
        "/v1/myip": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Returns your current IP address",
                "description": "IPv4 & IPv6 supported",
                "operationId": "myip",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                }
            }
        },
        "/v1/ip?ip={ip}": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Get information about an IP address",
                "description": "IPv4 & IPv6 supported",
                "operationId": "checkip",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "ip",
                        "in": "query",
                        "description": "IP to check",
                        "required": true,
                        "type": "string",
                        "format": "ip"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            }
        },
        "/v1/discord/guild/{guildid}": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Returns some information about the Discord guild",
                "description": "Will return the guild name, ID, Invite, online members, and if the guild is online.",
                "operationId": "guildinfo",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "guildid",
                        "in": "path",
                        "description": "Discord Guid ID to search",
                        "required": true,
                        "type": "string",
                        "format": "discordid"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                }
            }
        },
        "/v1/portcheck?hostname={hostname}&port={port}": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Check if a port is open",
                "description": "Domains and IP addresses supported",
                "operationId": "portcheck",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "hostname",
                        "in": "query",
                        "description": "IP or Hostname to check",
                        "required": true,
                        "type": "string",
                        "format": "hostname"
                    },
                    {
                        "name": "port",
                        "in": "query",
                        "description": "Port to check",
                        "required": true,
                        "type": "integer",
                        "format": "int32"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            }
        },
        "/v1/records?name={domain}&type={type}": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Check if a port is open",
                "description": "Domains and IP addresses supported",
                "operationId": "records",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "name",
                        "in": "query",
                        "description": "Domain to gather records for",
                        "required": true,
                        "type": "string",
                        "format": "domain"
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Type of records to check for",
                        "required": true,
                        "type": "string",
                        "format": "type"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            }
        },
        "/v1/cve?q={keyword}&s={filter}": {
            "get": {
                "tags": [
                    "utilities"
                ],
                "summary": "Search for a CVE",
                "description": "Search for a vulnerability or exploit by keyword",
                "operationId": "cve",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "q",
                        "in": "query",
                        "description": "Keyword to search for",
                        "required": true,
                        "type": "string",
                        "format": "string"
                    },
                    {
                        "name": "s",
                        "in": "query",
                        "description": "Filter or sorting to search by, Ex. 'recent', '7d', '3m', '1y', 'month', 'year'",
                        "required": false,
                        "type": "string",
                        "format": "filter"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            }
        },
        "/v1/apiKey": {
            "get": {
                "tags": [
                    "administration"
                ],
                "summary": "Get information on the current API key",
                "description": "Get information on the current API key",
                "operationId": "Getapikey",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "administration"
                ],
                "summary": "Generate a new API Key",
                "description": "Will allow for the creation of a new API key",
                "operationId": "Postapikey",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "paths",
                        "in": "body",
                        "description": "The paths to allow access to",
                        "required": true,
                        "type": "array",
                        "format": "paths"
                    },
                    {
                        "name": "email",
                        "in": "body",
                        "description": "Email of the user",
                        "required": true,
                        "type": "string",
                        "format": "email"
                    },
                    {
                        "name": "user",
                        "in": "body",
                        "description": "Name of the user",
                        "required": true,
                        "type": "string",
                        "format": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "administration"
                ],
                "summary": "Delete a specific API key",
                "description": "Delete the specified API key",
                "operationId": "Deleteapikey",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "key",
                        "in": "query",
                        "description": "Key to delete",
                        "required": true,
                        "type": "string",
                        "format": "apIkey"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/ApiResponse"
                        }
                    }
                },
                "security": [
                    {
                        "api_key": [],
                        "api_key_alt": []
                    }
                ]
            }
        }
    },
    "securityDefinitions": {
        "api_key": {
            "type": "apiKey",
            "name": "key",
            "in": "header"
        },
        "api_key_alt": {
            "type": "apiKey",
            "name": "key",
            "in": "query"
        }
    },
    "definitions": {
        "ApiResponse": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "integer",
                    "format": "int32"
                },
                "message": {
                    "type": "string"
                },
                "response": {
                    "type": "object"
                }
            }
        }
    }
}